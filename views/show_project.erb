<div id="image_carousel" class="carousel slide my-3" data-ride="carousel">  <!-- data-xyz things can be whatever you want-->

    <ol class="carousel-indicators" id="image_carousel_indicators">
        <%- @images.take(10).each_with_index do |_, index| -%> 
        <li class="<%= index == 0 ? 'active' : nil %>" data-slide-to="<%=index%>" data-target="#image_carousel">  </li>
        <%- end -%>
    </ol>
    
    <div class="carousel-inner" id="image_carousel_inner">
        <%- @images.take(10).each_with_index do |image, index| -%>
        <div class="carousel-item <%= index == 0 ? 'active' : nil %>"       
                id="<%= File.basename(image) %>">       <!-- one liner if else-->
            <img class="d-block w-100"  src="/pun/sys/dashboard/files/fs<%= image %>">
        </div>
        <%- end -%> <!-- carousel inner-->
        
        <a class="carousel-control-prev" href="#image_carousel" role="button" data-slide="prev">   <!-- querying by id-->
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>     <!-- aria hidden helps with accessability-->
            <span class="sr-only">Previous</span>
        </a>
        
        <a class="carousel-control-next" href="#image_carousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span> 
            <span class="sr-only">Next</span>
        </a>
        
    </div>
</div>

<h2 class="my-2">Render Frames</h2>

<form method="post" action="<%=  url('/render/frames') %>">
    
    <div class="row">
        

    <!--The "for thing below is for connecting the label to the item that has the same name
        Also the col thing is out of 12, taking up the width of the page in 12 chunks    
    -->
        <div class="form-group col-6">
            <label for="account">Account</label> 
            <select name="account" class="form-control">
            <!--loops through accounts to list-->
                <%- accounts.each do |account| -%>   
                <option><%= account %></option>
                <%- end -%>
            </select>
        </div>
    
    
        <div class="form-group col-6">
        <label for="blend_file">Blend File</label> 
         <select  name="blend_file" class="form-control">
             <%- blend_files.each do |file| -%>
             <!--   .basename gets rid of the path junk before the file name-->
             <option value="<%= file %>"><%= File.basename(file) %></option>
             <%- end -%>
         </select>
        </div>
             
        <div class="form-group col-4">
            <label for="num_cpus">CPUs</label> 
            <input name="num_cpus" type="number" min="4" max="48" value="4" class="form-control">
            <small class="form-text text-muted">More CPUs means less rendering time</small>
        </div>
         
        <div class="form-group col-4">
            <label for="frame_range">Frame Range</label> 
            <input name="frame_range" type="text" class="form-control">
            <small class="form-text text-muted">1..N renders frames 1-N or 1,N,M will renders frames 1 N and M</small>
        </div>
    
         
        <div class="form-group col-4">
            <label for="walltime">Walltime</label> 
            <input name="walltime" type="number" min="1" max="48" value="1" class="form-control">
            <small class="form-text text-muted">Hours the job will run</small>
        </div>
    </div>
     
    <input name="project_directory" type="hidden" value="<%= @directory %>">
     
    <button class="btn btn-primary float-right">Render Frames</button>
     
</form>

<div class="d-none" id="project_config" data-directory="<%= @directory%>"></div> <!-- passes info from ruby html server to javascript-->

<h2 class="my-2">Render Video</h2>

<form method="post" action="<%= url('/render/video') %>">
    
    <div class="row">
    
        <div class="form-group col-3">
            <label for="account">Account</label> 
            <select name="account" class="form-control">
                <%- accounts.each do |account| -%>   
                <option><%= account %></option>
                <%- end -%>
            </select>
        </div>
        
        <div class="form-group col-3">
            <label for="frames_per_second">Frames per second</label>
            <input type="number" class="form-control" name="frames_per_second" min="10" max="60" value="10">
        </div>
        
        <div class="form-group col-3">
            <label for="num_cpus">CPUs</label>
            <input class="form-control" type="number" min="1" max="48" value="1" name="num_cpus">
        </div>
        
        <div class="form-group col-3">
            <label for="walltime">Hours</label>
            <input class="form-control" type="number" min="1" max="24" value="1" name="walltime">
            
        </div>
        
        <input type="hidden" name="project_directory" value="<%= @directory %>">
        
    </div> <!-- row end -->
        
    <button class="btn btn-warning float-right">Render Video</button>
<!--
    <div>
      
        <video name="blend-video" src="video.mp4">
            This browser does not support the video tag
        </video>
-->  
        
    </div>
    
</form>


